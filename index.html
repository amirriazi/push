<!DOCTYPE html>
<html>
<head>
    <link rel="manifest" href="manifest.json">

	<script src="https://www.gstatic.com/firebasejs/3.6.1/firebase.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-database.js"></script>
	<script src="https://www.gstatic.com/firebasejs/3.6.1/firebase-messaging.js"></script>

	<title></title>
	<meta charset="utf-8" />
</head>
<body>
	<button onclick="firebaseInit()" style="height:20px; width:70px;">Database </button>
    <button onclick="cloudMessaging()" style="height:20px; width:70px;">Cloud Messaging</button>


	<h1 id="bigOne"></h1>
	<script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyCxZY68FEOU7-xqH8NEvE7ksFIGNhQT8Y0",
            authDomain: "amirriaziproject.firebaseapp.com",
            databaseURL: "https://amirriaziproject.firebaseio.com",
            storageBucket: "amirriaziproject.appspot.com",
            messagingSenderId: "356954902627"
        };
        var app = firebase.initializeApp(config);
        console.log('app name=' + app.name);

		function firebaseInit() {
			var bigOne = document.getElementById('bigOne');
			var dbRef = firebase.database().ref().child('text');
			dbRef.on('value', snap => bigOne.innerText = snap.val());
		}


		function cloudMessaging() {
		    const messaging = firebase.messageLog();
		    messaging.requestPermission()
            .then(function () {
                console.log('have permission');
            })
            .catch(function (err){
                console.log(err);
            });

		}


	</script>



</body>
</html>
